<section id="slider" class="tinyfade">
  {% for block in section.blocks %}
    {%- assign slide_number = forloop.index -%}
        {%- if block.settings.image != blank -%}
          {%
            render 'rimg',
            img: block.settings.image
          %}
        {%- endif -%}

        {%- if block.settings.link != blank -%}
          <a
            href="{{ block.settings.link }}"
            class="slideshow-slide__background-link"
            tabindex="-1"
          ></a>
        {%- endif -%}

        {%- if block.settings.title != blank -%}
          <h2 class="slideshow-slide__heading">
            {{ block.settings.title }}
          </h2>
        {%- endif -%}

        {%- if block.settings.subheading != blank -%}
          <p class="slideshow-slide__text">
            {{ block.settings.subheading }}
          </p>
        {%- endif -%}

        {%- if block.settings.button_label != blank and block.settings.link != blank -%}
          <a
            href="{{ block.settings.link }}"
            class="slideshow-slide__button"
          >
            {{ block.settings.button_label }}
          </a>
        {%- endif -%}
  {% endfor %}
</section>

{% schema %}
  {
    "name": "Fades",
    "class": "fades",
    "settings": [
      {
        "id": "header",
        "type": "text",
        "label": "Header",
        "default": "Hello world"
      }
    ],
    "blocks": [
    {
      "type": "feature",
      "name": "Slide",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image",
          "info": "940 x 444px .jpg recommended"
        },
        {
          "type": "header",
          "content": "Overlay"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Heading",
          "default": "Slide"
        },
        {
          "type": "text",
          "id": "subheading",
          "label": "Subheading",
          "default": "Introduce customers to your shop with lifestyle and product imagery"
        },
        {
          "type": "text",
          "id": "button_label",
          "label": "Button label",
          "default": "Button"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        },
        {
          "type": "color",
          "id": "color",
          "label": "Color",
          "default": "#FFFFFF"
        },
        {
          "type": "color",
          "id": "background_color",
          "label": "Background color",
          "default": "#000000"
        },
        {
          "type": "range",
          "id": "background_color_opacity",
          "label": "Background color opacity",
          "min": 0,
          "max": 100,
          "step": 1,
          "unit": "%",
          "default": 50
        },
        {
          "type": "select",
          "id": "alignment",
          "label": "Alignment",
          "options": [
            { "label": "Left Top", "value": "left-top" },
            { "label": "Left Center", "value": "left-center" },
            { "label": "Left Bottom", "value": "left-bottom" },
            { "label": "Center Top", "value": "center-top" },
            { "label": "Center", "value": "center-center" },
            { "label": "Center Bottom", "value": "center-bottom" },
            { "label": "Right Top", "value": "right-top" },
            { "label": "Right Center", "value": "right-center" },
            { "label": "Right Bottom", "value": "right-bottom" }
          ],
          "default": "center-center"
        }
      ]
    }
  ]
  }
{% endschema %}